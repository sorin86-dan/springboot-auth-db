FROM openjdk:11

USER root

#=============================================================
# Install Git
#=============================================================
RUN apt-get update && \
 apt-get install git -y

#=============================================================
# Install Maven
#=============================================================
RUN apt-get install maven -y

#=============================================================
# Clone code
#=============================================================
RUN git clone https://github.com/sorin86-dan/springboot-auth-db.git
WORKDIR springboot-auth-db

#=============================================================
# Build automated tests
#=============================================================
RUN mvn clean install -DskipTests
